# -*- Mode: python; indent-tabs-mode: nil; tab-width: 40 -*-
# vim: set filetype=python:
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

if CONFIG['MOZ_TREE_FREETYPE']:
    LOCAL_INCLUDES += [
        '/modules/freetype2/include',
        '/modules/freetype2/src',
    ]

include('pdfium_common_config.mozbuild')
include('../../mortar.mozbuild')

# pdfium_core_config
DEFINES['V8_DEPRECATION_WARNINGS'] = True
if CONFIG['OS_ARCH'] == 'Linux':
    if CONFIG['CPU_ARCH'] == 'x86_64':
        DEFINES['_FX_CPU_'] = '_FX_X64_'
        cflags += ['-fPIC']
    elif CONFIG['CPU_ARCH'] == 'x86':
        DEFINES['_FX_CPU_'] = '_FX_X86_'

# fxge
DEFINES['DEFINE_PS_TABLES'] = True

# export symbols of PDFium on Windows system
if CONFIG['OS_TARGET'] == 'WINNT':
    DEFINES['FPDFSDK_EXPORTS'] = True

SOURCES += [
    # fdrm
    'core/fdrm/crypto/fx_crypt.cpp',
    'core/fdrm/crypto/fx_crypt_aes.cpp',
    'core/fdrm/crypto/fx_crypt_sha.cpp',

    # fpdfapi
    'core/fpdfapi/cmaps/CNS1/Adobe-CNS1-UCS2_5.cpp',
    'core/fpdfapi/cmaps/CNS1/B5pc-H_0.cpp',
    'core/fpdfapi/cmaps/CNS1/B5pc-V_0.cpp',
    'core/fpdfapi/cmaps/CNS1/cmaps_cns1.cpp',
    'core/fpdfapi/cmaps/CNS1/CNS-EUC-H_0.cpp',
    'core/fpdfapi/cmaps/CNS1/CNS-EUC-V_0.cpp',
    'core/fpdfapi/cmaps/CNS1/ETen-B5-H_0.cpp',
    'core/fpdfapi/cmaps/CNS1/ETen-B5-V_0.cpp',
    'core/fpdfapi/cmaps/CNS1/ETenms-B5-H_0.cpp',
    'core/fpdfapi/cmaps/CNS1/ETenms-B5-V_0.cpp',
    'core/fpdfapi/cmaps/CNS1/HKscs-B5-H_5.cpp',
    'core/fpdfapi/cmaps/CNS1/HKscs-B5-V_5.cpp',
    'core/fpdfapi/cmaps/CNS1/UniCNS-UCS2-H_3.cpp',
    'core/fpdfapi/cmaps/CNS1/UniCNS-UCS2-V_3.cpp',
    'core/fpdfapi/cmaps/CNS1/UniCNS-UTF16-H_0.cpp',
    'core/fpdfapi/cmaps/fpdf_cmaps.cpp',
    'core/fpdfapi/cmaps/GB1/Adobe-GB1-UCS2_5.cpp',
    'core/fpdfapi/cmaps/GB1/cmaps_gb1.cpp',
    'core/fpdfapi/cmaps/GB1/GB-EUC-H_0.cpp',
    'core/fpdfapi/cmaps/GB1/GB-EUC-V_0.cpp',
    'core/fpdfapi/cmaps/GB1/GBK-EUC-H_2.cpp',
    'core/fpdfapi/cmaps/GB1/GBK-EUC-V_2.cpp',
    'core/fpdfapi/cmaps/GB1/GBK2K-H_5.cpp',
    'core/fpdfapi/cmaps/GB1/GBK2K-V_5.cpp',
    'core/fpdfapi/cmaps/GB1/GBKp-EUC-H_2.cpp',
    'core/fpdfapi/cmaps/GB1/GBKp-EUC-V_2.cpp',
    'core/fpdfapi/cmaps/GB1/GBpc-EUC-H_0.cpp',
    'core/fpdfapi/cmaps/GB1/GBpc-EUC-V_0.cpp',
    'core/fpdfapi/cmaps/GB1/UniGB-UCS2-H_4.cpp',
    'core/fpdfapi/cmaps/GB1/UniGB-UCS2-V_4.cpp',
    'core/fpdfapi/cmaps/Japan1/83pv-RKSJ-H_1.cpp',
    'core/fpdfapi/cmaps/Japan1/90ms-RKSJ-H_2.cpp',
    'core/fpdfapi/cmaps/Japan1/90ms-RKSJ-V_2.cpp',
    'core/fpdfapi/cmaps/Japan1/90msp-RKSJ-H_2.cpp',
    'core/fpdfapi/cmaps/Japan1/90msp-RKSJ-V_2.cpp',
    'core/fpdfapi/cmaps/Japan1/90pv-RKSJ-H_1.cpp',
    'core/fpdfapi/cmaps/Japan1/Add-RKSJ-H_1.cpp',
    'core/fpdfapi/cmaps/Japan1/Add-RKSJ-V_1.cpp',
    'core/fpdfapi/cmaps/Japan1/Adobe-Japan1-UCS2_4.cpp',
    'core/fpdfapi/cmaps/Japan1/cmaps_japan1.cpp',
    'core/fpdfapi/cmaps/Japan1/EUC-H_1.cpp',
    'core/fpdfapi/cmaps/Japan1/EUC-V_1.cpp',
    'core/fpdfapi/cmaps/Japan1/Ext-RKSJ-H_2.cpp',
    'core/fpdfapi/cmaps/Japan1/Ext-RKSJ-V_2.cpp',
    'core/fpdfapi/cmaps/Japan1/H_1.cpp',
    'core/fpdfapi/cmaps/Japan1/UniJIS-UCS2-H_4.cpp',
    'core/fpdfapi/cmaps/Japan1/UniJIS-UCS2-HW-H_4.cpp',
    'core/fpdfapi/cmaps/Japan1/UniJIS-UCS2-HW-V_4.cpp',
    'core/fpdfapi/cmaps/Japan1/UniJIS-UCS2-V_4.cpp',
    'core/fpdfapi/cmaps/Japan1/V_1.cpp',
    'core/fpdfapi/cmaps/Korea1/Adobe-Korea1-UCS2_2.cpp',
    'core/fpdfapi/cmaps/Korea1/cmaps_korea1.cpp',
    'core/fpdfapi/cmaps/Korea1/KSC-EUC-H_0.cpp',
    'core/fpdfapi/cmaps/Korea1/KSC-EUC-V_0.cpp',
    'core/fpdfapi/cmaps/Korea1/KSCms-UHC-H_1.cpp',
    'core/fpdfapi/cmaps/Korea1/KSCms-UHC-HW-H_1.cpp',
    'core/fpdfapi/cmaps/Korea1/KSCms-UHC-HW-V_1.cpp',
    'core/fpdfapi/cmaps/Korea1/KSCms-UHC-V_1.cpp',
    'core/fpdfapi/cmaps/Korea1/KSCpc-EUC-H_0.cpp',
    'core/fpdfapi/cmaps/Korea1/UniKS-UCS2-H_1.cpp',
    'core/fpdfapi/cmaps/Korea1/UniKS-UCS2-V_1.cpp',
    'core/fpdfapi/cmaps/Korea1/UniKS-UTF16-H_0.cpp',
    'core/fpdfapi/cpdf_modulemgr.cpp',
    'core/fpdfapi/cpdf_pagerendercontext.cpp',
    'core/fpdfapi/edit/cpdf_pagecontentgenerator.cpp',
    'core/fpdfapi/edit/fpdf_edit_create.cpp',
    'core/fpdfapi/font/cpdf_cidfont.cpp',
    'core/fpdfapi/font/cpdf_font.cpp',
    'core/fpdfapi/font/cpdf_fontencoding.cpp',
    'core/fpdfapi/font/cpdf_simplefont.cpp',
    'core/fpdfapi/font/cpdf_truetypefont.cpp',
    'core/fpdfapi/font/cpdf_type1font.cpp',
    'core/fpdfapi/font/cpdf_type3char.cpp',
    'core/fpdfapi/font/cpdf_type3font.cpp',
    'core/fpdfapi/font/fpdf_font.cpp',
    'core/fpdfapi/font/fpdf_font_cid.cpp',
    'core/fpdfapi/font/ttgsubtable.cpp',
    'core/fpdfapi/page/cpdf_allstates.cpp',
    'core/fpdfapi/page/cpdf_clippath.cpp',
    'core/fpdfapi/page/cpdf_color.cpp',
    'core/fpdfapi/page/cpdf_colorspace.cpp',
    'core/fpdfapi/page/cpdf_colorstate.cpp',
    'core/fpdfapi/page/cpdf_contentmark.cpp',
    'core/fpdfapi/page/cpdf_contentmarkitem.cpp',
    'core/fpdfapi/page/cpdf_contentparser.cpp',
    'core/fpdfapi/page/cpdf_docpagedata.cpp',
    'core/fpdfapi/page/cpdf_form.cpp',
    'core/fpdfapi/page/cpdf_formobject.cpp',
    'core/fpdfapi/page/cpdf_generalstate.cpp',
    'core/fpdfapi/page/cpdf_graphicstates.cpp',
    'core/fpdfapi/page/cpdf_image.cpp',
    'core/fpdfapi/page/cpdf_imageobject.cpp',
    'core/fpdfapi/page/cpdf_meshstream.cpp',
    'core/fpdfapi/page/cpdf_page.cpp',
    'core/fpdfapi/page/cpdf_pagemodule.cpp',
    'core/fpdfapi/page/cpdf_pageobject.cpp',
    'core/fpdfapi/page/cpdf_pageobjectholder.cpp',
    'core/fpdfapi/page/cpdf_pageobjectlist.cpp',
    'core/fpdfapi/page/cpdf_path.cpp',
    'core/fpdfapi/page/cpdf_pathobject.cpp',
    'core/fpdfapi/page/cpdf_pattern.cpp',
    'core/fpdfapi/page/cpdf_shadingobject.cpp',
    'core/fpdfapi/page/cpdf_shadingpattern.cpp',
    'core/fpdfapi/page/cpdf_streamcontentparser.cpp',
    'core/fpdfapi/page/cpdf_streamparser.cpp',
    'core/fpdfapi/page/cpdf_textobject.cpp',
    'core/fpdfapi/page/cpdf_textstate.cpp',
    'core/fpdfapi/page/cpdf_tilingpattern.cpp',
    'core/fpdfapi/page/fpdf_page_colors.cpp',
    'core/fpdfapi/page/fpdf_page_func.cpp',
    'core/fpdfapi/parser/cfdf_document.cpp',
    'core/fpdfapi/parser/cpdf_array.cpp',
    'core/fpdfapi/parser/cpdf_boolean.cpp',
    'core/fpdfapi/parser/cpdf_crypto_handler.cpp',
    'core/fpdfapi/parser/cpdf_data_avail.cpp',
    'core/fpdfapi/parser/cpdf_dictionary.cpp',
    'core/fpdfapi/parser/cpdf_document.cpp',
    'core/fpdfapi/parser/cpdf_hint_tables.cpp',
    'core/fpdfapi/parser/cpdf_indirect_object_holder.cpp',
    'core/fpdfapi/parser/cpdf_linearized_header.cpp',
    'core/fpdfapi/parser/cpdf_name.cpp',
    'core/fpdfapi/parser/cpdf_null.cpp',
    'core/fpdfapi/parser/cpdf_number.cpp',
    'core/fpdfapi/parser/cpdf_object.cpp',
    'core/fpdfapi/parser/cpdf_parser.cpp',
    'core/fpdfapi/parser/cpdf_reference.cpp',
    'core/fpdfapi/parser/cpdf_security_handler.cpp',
    'core/fpdfapi/parser/cpdf_simple_parser.cpp',
    'core/fpdfapi/parser/cpdf_stream.cpp',
    'core/fpdfapi/parser/cpdf_stream_acc.cpp',
    'core/fpdfapi/parser/cpdf_string.cpp',
    'core/fpdfapi/parser/cpdf_syntax_parser.cpp',
    'core/fpdfapi/parser/fpdf_parser_decode.cpp',
    'core/fpdfapi/parser/fpdf_parser_utility.cpp',
    'core/fpdfapi/render/cpdf_charposlist.cpp',
    'core/fpdfapi/render/cpdf_devicebuffer.cpp',
    'core/fpdfapi/render/cpdf_dibsource.cpp',
    'core/fpdfapi/render/cpdf_dibtransferfunc.cpp',
    'core/fpdfapi/render/cpdf_docrenderdata.cpp',
    'core/fpdfapi/render/cpdf_imagecacheentry.cpp',
    'core/fpdfapi/render/cpdf_imageloader.cpp',
    'core/fpdfapi/render/cpdf_imagerenderer.cpp',
    'core/fpdfapi/render/cpdf_pagerendercache.cpp',
    'core/fpdfapi/render/cpdf_progressiverenderer.cpp',
    'core/fpdfapi/render/cpdf_rendercontext.cpp',
    'core/fpdfapi/render/cpdf_renderoptions.cpp',
    'core/fpdfapi/render/cpdf_renderstatus.cpp',
    'core/fpdfapi/render/cpdf_scaledrenderbuffer.cpp',
    'core/fpdfapi/render/cpdf_textrenderer.cpp',
    'core/fpdfapi/render/cpdf_transferfunc.cpp',
    'core/fpdfapi/render/cpdf_type3cache.cpp',
    'core/fpdfapi/render/cpdf_type3glyphs.cpp',

    # fpdfdoc
    'core/fpdfdoc/cline.cpp',
    'core/fpdfdoc/clines.cpp',
    'core/fpdfdoc/cpdf_aaction.cpp',
    'core/fpdfdoc/cpdf_action.cpp',
    'core/fpdfdoc/cpdf_actionfields.cpp',
    'core/fpdfdoc/cpdf_annot.cpp',
    'core/fpdfdoc/cpdf_annotlist.cpp',
    'core/fpdfdoc/cpdf_apsettings.cpp',
    'core/fpdfdoc/cpdf_bookmark.cpp',
    'core/fpdfdoc/cpdf_bookmarktree.cpp',
    'core/fpdfdoc/cpdf_defaultappearance.cpp',
    'core/fpdfdoc/cpdf_dest.cpp',
    'core/fpdfdoc/cpdf_docjsactions.cpp',
    'core/fpdfdoc/cpdf_filespec.cpp',
    'core/fpdfdoc/cpdf_formcontrol.cpp',
    'core/fpdfdoc/cpdf_formfield.cpp',
    'core/fpdfdoc/cpdf_iconfit.cpp',
    'core/fpdfdoc/cpdf_interform.cpp',
    'core/fpdfdoc/cpdf_link.cpp',
    'core/fpdfdoc/cpdf_linklist.cpp',
    'core/fpdfdoc/cpdf_metadata.cpp',
    'core/fpdfdoc/cpdf_nametree.cpp',
    'core/fpdfdoc/cpdf_numbertree.cpp',
    'core/fpdfdoc/cpdf_occontext.cpp',
    'core/fpdfdoc/cpdf_pagelabel.cpp',
    'core/fpdfdoc/cpdf_variabletext.cpp',
    'core/fpdfdoc/cpdf_viewerpreferences.cpp',
    'core/fpdfdoc/cpvt_color.cpp',
    'core/fpdfdoc/cpvt_fontmap.cpp',
    'core/fpdfdoc/cpvt_generateap.cpp',
    'core/fpdfdoc/cpvt_sectioninfo.cpp',
    'core/fpdfdoc/cpvt_wordinfo.cpp',
    'core/fpdfdoc/csection.cpp',
    'core/fpdfdoc/ctypeset.cpp',
    'core/fpdfdoc/doc_tagged.cpp',

    # fpdftext
    'core/fpdftext/cpdf_linkextract.cpp',
    'core/fpdftext/cpdf_textpage.cpp',
    'core/fpdftext/cpdf_textpagefind.cpp',
    'core/fpdftext/unicodenormalizationdata.cpp',

    # fxcodec
    'core/fxcodec/codec/fx_codec.cpp',
    'core/fxcodec/codec/fx_codec_fax.cpp',
    'core/fxcodec/codec/fx_codec_flate.cpp',
    'core/fxcodec/codec/fx_codec_icc.cpp',
    'core/fxcodec/codec/fx_codec_jbig.cpp',
    'core/fxcodec/codec/fx_codec_jpeg.cpp',
    'core/fxcodec/codec/fx_codec_jpx_opj.cpp',
    'core/fxcodec/jbig2/JBig2_ArithDecoder.cpp',
    'core/fxcodec/jbig2/JBig2_ArithIntDecoder.cpp',
    'core/fxcodec/jbig2/JBig2_BitStream.cpp',
    'core/fxcodec/jbig2/JBig2_Context.cpp',
    'core/fxcodec/jbig2/JBig2_GrdProc.cpp',
    'core/fxcodec/jbig2/JBig2_GrrdProc.cpp',
    'core/fxcodec/jbig2/JBig2_GsidProc.cpp',
    'core/fxcodec/jbig2/JBig2_HtrdProc.cpp',
    'core/fxcodec/jbig2/JBig2_HuffmanDecoder.cpp',
    'core/fxcodec/jbig2/JBig2_HuffmanTable.cpp',
    'core/fxcodec/jbig2/JBig2_HuffmanTable_Standard.cpp',
    'core/fxcodec/jbig2/JBig2_Image.cpp',
    'core/fxcodec/jbig2/JBig2_PatternDict.cpp',
    'core/fxcodec/jbig2/JBig2_PddProc.cpp',
    'core/fxcodec/jbig2/JBig2_SddProc.cpp',
    'core/fxcodec/jbig2/JBig2_Segment.cpp',
    'core/fxcodec/jbig2/JBig2_SymbolDict.cpp',
    'core/fxcodec/jbig2/JBig2_TrdProc.cpp',

    # fxcrt
    'core/fxcrt/fx_basic_array.cpp',
    'core/fxcrt/fx_basic_bstring.cpp',
    'core/fxcrt/fx_basic_buffer.cpp',
    'core/fxcrt/fx_basic_coords.cpp',
    'core/fxcrt/fx_basic_gcc.cpp',
    'core/fxcrt/fx_basic_memmgr.cpp',
    'core/fxcrt/fx_basic_utf.cpp',
    'core/fxcrt/fx_basic_util.cpp',
    'core/fxcrt/fx_basic_wstring.cpp',
    'core/fxcrt/fx_bidi.cpp',
    'core/fxcrt/fx_extension.cpp',
    'core/fxcrt/fx_ucddata.cpp',
    'core/fxcrt/fx_unicode.cpp',
    'core/fxcrt/fx_xml_composer.cpp',
    'core/fxcrt/fx_xml_parser.cpp',
    'core/fxcrt/fxcrt_posix.cpp',
    'core/fxcrt/fxcrt_stream.cpp',
    'core/fxcrt/fxcrt_windows.cpp',

    # fxge
    'core/fxge/agg/fx_agg_driver.cpp',
    'core/fxge/dib/fx_dib_composite.cpp',
    'core/fxge/dib/fx_dib_convert.cpp',
    'core/fxge/dib/fx_dib_engine.cpp',
    'core/fxge/dib/fx_dib_main.cpp',
    'core/fxge/dib/fx_dib_transform.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitDingbats.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitFixed.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitFixedBold.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitFixedBoldItalic.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitFixedItalic.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitSans.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitSansBold.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitSansBoldItalic.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitSansItalic.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitSansMM.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitSerif.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitSerifBold.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitSerifBoldItalic.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitSerifItalic.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitSerifMM.cpp',
    'core/fxge/fontdata/chromefontdata/FoxitSymbol.cpp',
    'core/fxge/freetype/fx_freetype.cpp',
    'core/fxge/ge/cfx_cliprgn.cpp',
    'core/fxge/ge/cfx_facecache.cpp',
    'core/fxge/ge/cfx_folderfontinfo.cpp',
    'core/fxge/ge/cfx_font.cpp',
    'core/fxge/ge/cfx_fontcache.cpp',
    'core/fxge/ge/cfx_fontmapper.cpp',
    'core/fxge/ge/cfx_fontmgr.cpp',
    'core/fxge/ge/cfx_gemodule.cpp',
    'core/fxge/ge/cfx_graphstate.cpp',
    'core/fxge/ge/cfx_graphstatedata.cpp',
    'core/fxge/ge/cfx_pathdata.cpp',
    'core/fxge/ge/cfx_renderdevice.cpp',
    'core/fxge/ge/cfx_substfont.cpp',
    'core/fxge/ge/cfx_unicodeencoding.cpp',
    'core/fxge/ge/cttfontdesc.cpp',
    'core/fxge/ge/fx_ge_fontmap.cpp',
    'core/fxge/ge/fx_ge_linux.cpp',
    'core/fxge/ge/fx_ge_text.cpp',
    'core/fxge/ifx_renderdevicedriver.cpp',

    # pdfium
    'fpdfsdk/cba_annotiterator.cpp',
    'fpdfsdk/cfx_systemhandler.cpp',
    'fpdfsdk/cpdfsdk_annot.cpp',
    'fpdfsdk/cpdfsdk_annothandlermgr.cpp',
    'fpdfsdk/cpdfsdk_annotiteration.cpp',
    'fpdfsdk/cpdfsdk_baannot.cpp',
    'fpdfsdk/cpdfsdk_baannothandler.cpp',
    'fpdfsdk/cpdfsdk_datetime.cpp',
    'fpdfsdk/cpdfsdk_formfillenvironment.cpp',
    'fpdfsdk/cpdfsdk_interform.cpp',
    'fpdfsdk/cpdfsdk_pageview.cpp',
    'fpdfsdk/cpdfsdk_widget.cpp',
    'fpdfsdk/cpdfsdk_widgethandler.cpp',

    # formfiller
    'fpdfsdk/formfiller/cba_fontmap.cpp',
    'fpdfsdk/formfiller/cffl_checkbox.cpp',
    'fpdfsdk/formfiller/cffl_combobox.cpp',
    'fpdfsdk/formfiller/cffl_formfiller.cpp',
    'fpdfsdk/formfiller/cffl_interactiveformfiller.cpp',
    'fpdfsdk/formfiller/cffl_listbox.cpp',
    'fpdfsdk/formfiller/cffl_pushbutton.cpp',
    'fpdfsdk/formfiller/cffl_radiobutton.cpp',
    'fpdfsdk/formfiller/cffl_textfield.cpp',

    # pdfium
    'fpdfsdk/fpdf_dataavail.cpp',
    'fpdfsdk/fpdf_ext.cpp',
    'fpdfsdk/fpdf_flatten.cpp',
    'fpdfsdk/fpdf_progressive.cpp',
    'fpdfsdk/fpdf_searchex.cpp',
    'fpdfsdk/fpdf_structtree.cpp',
    'fpdfsdk/fpdf_sysfontinfo.cpp',
    'fpdfsdk/fpdf_transformpage.cpp',
    'fpdfsdk/fpdfdoc.cpp',
    'fpdfsdk/fpdfeditimg.cpp',
    'fpdfsdk/fpdfeditpage.cpp',
    'fpdfsdk/fpdfeditpath.cpp',
    'fpdfsdk/fpdfformfill.cpp',
    'fpdfsdk/fpdfppo.cpp',
    'fpdfsdk/fpdfsave.cpp',
    'fpdfsdk/fpdftext.cpp',
    'fpdfsdk/fpdfview.cpp',
    'fpdfsdk/fsdk_actionhandler.cpp',
    'fpdfsdk/fsdk_pauseadapter.cpp',

    # fxedit
    'fpdfsdk/fxedit/fxet_ap.cpp',
    'fpdfsdk/fxedit/fxet_edit.cpp',
    'fpdfsdk/fxedit/fxet_list.cpp',

    # javascript
    'fpdfsdk/javascript/JS_Runtime_Stub.cpp',

    # pdfium
    'fpdfsdk/pdfsdk_fieldaction.cpp',

    # pdfwindow
    'fpdfsdk/pdfwindow/PWL_Button.cpp',
    'fpdfsdk/pdfwindow/PWL_Caret.cpp',
    'fpdfsdk/pdfwindow/PWL_ComboBox.cpp',
    'fpdfsdk/pdfwindow/PWL_Edit.cpp',
    'fpdfsdk/pdfwindow/PWL_EditCtrl.cpp',
    'fpdfsdk/pdfwindow/PWL_FontMap.cpp',
    'fpdfsdk/pdfwindow/PWL_Icon.cpp',
    'fpdfsdk/pdfwindow/PWL_ListBox.cpp',
    'fpdfsdk/pdfwindow/PWL_ScrollBar.cpp',
    'fpdfsdk/pdfwindow/PWL_SpecialButton.cpp',
    'fpdfsdk/pdfwindow/PWL_Utils.cpp',
    'fpdfsdk/pdfwindow/PWL_Wnd.cpp',
]

if CONFIG['OS_ARCH'] == 'WINNT':
    SOURCES += [
        # fxge
        'core/fxge/win32/cfx_psrenderer.cpp',
        'core/fxge/win32/cpsoutput.cpp',
        'core/fxge/win32/fx_win32_device.cpp',
        'core/fxge/win32/fx_win32_dib.cpp',
        'core/fxge/win32/fx_win32_dwrite.cpp',
        'core/fxge/win32/fx_win32_gdipext.cpp',
        'core/fxge/win32/fx_win32_print.cpp',
    ]

if CONFIG['OS_ARCH'] == 'Darwin':
    SOURCES += [
        # fxge
        'core/fxge/apple/fx_apple_platform.cpp',
        'core/fxge/apple/fx_mac_imp.cpp',
        'core/fxge/apple/fx_quartz_device.cpp',
    ]

# mortar workaround
if CONFIG['OS_TARGET'] == 'WINNT':
    SOURCES['core/fxge/win32/fx_win32_gdipext.cpp'].flags += [ '-FIwindows.h' ]
    SOURCES['core/fxge/win32/fx_win32_gdipext.cpp'].flags += [ '-FIobjidl.h' ]

if CONFIG['OS_TARGET'] == 'WINNT':
    OS_LIBS += [
        'advapi32',
        'gdi32',
        'user32',
    ]

DIRS += [
    'third_party',
]

Library('mortar_pdfium')
